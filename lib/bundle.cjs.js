"use strict";var a=function(){for(var a=arguments.length,l=new Array(a),n=0;n<a;n++)l[n]=arguments[n];return l.map((function(a){return"".concat(a).padStart(2,"0")})).join("-")},l=["日","一","二","三","四","五","六"],n=function(a,l,n){return Date.UTC(a,l-1,n,0,0,0)},e=function(n){var e=new Date(n),o=e.getFullYear(),u=e.getMonth()+1,m=e.getDate(),f=e.getDay(),t=a(o,u,m);return{year:o,month:u,day:m,week:f,weekZH:"".concat("星期").concat(l[f]),date:t}},o=1900,u=2100,m=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,92821,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,41680,53584,62034,54560],f=["正","二","三","四","五","六","七","八","九","十","冬","腊"],t=["初一","初二","初三","初四","初五","初六","初七","初八","初九","初十","十一","十二","十三","十四","十五","十六","十七","十八","十九","二十","廿一","廿二","廿三","廿四","廿五","廿六","廿七","廿八","廿九","三十"],r=Date.UTC(o,0,30,0,0,0),k=function(a){return 15&m[a-o]},d=function(a){return a>u||a<o?(console.log("不在规定年限范围".concat(o,"~").concat(u,"内, 请重新输入")),-1):k(a)?65536&m[a-o]?30:29:0},g=function(a){var l,n=348;for(l=32768;l>8;l>>=1)n+=m[a-o]&l?1:0;return n+d(a)},c=function(a,l){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(l>12||l<1)return console.log("输入月数应在".concat(1,"~").concat(12)),-1;var e=m[a-o]&65536>>l?30:29,u=k(a);return n&&l==u&&(e=d(a)),e},i=function(a){var l,n,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],m=60*(new Date).getTimezoneOffset()*1e3,d=e?m:0,i=Math.floor((a-r-d)/864e5),h=0,j=0,v=!1;if(i<=0)return null;var y=0;for(h=o;h<=u&&!(y+(n=g(h))>=i);h++)y+=n;var s=k(h);for(i-=y,y=0,j=1;j<=12&&!(y+(n=c(h,j))>=i);j++)if(y+=n,s&&j==s){if(y+(n=c(h,j,!0))>=i){v=!0;break}y+=n}return{lYear:h,lMonth:j,lDay:l=i-y,isLeap:v,lMonthZH:(v?"闰":"")+f[j-1]+"月",lDayZH:t[l-1]}},h=["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"],j=["4lkmd5j6l5","55kql9lal9","59lanalala","5avbnatqla","7akmd5j6l5","55kql9lal9","59lalalala","5avbnatqla","7akmd5j6l5","55kql9lal9","59lalalala","5avbnatqla","7akmd5j6l5","4lkql9lal9","55kqlalala","5ananalqla","5akmd5j5kl","4lkqd9l6l5","55kqlalal9","5ananalqla","5akmd5j5kl","4lkmd9l6l5","55kqlalal9","59lanalqla","5akmd5j5kl","4lkmd9l6l5","55kql9lal9","59lanalala","5akmclj5al","4lkmd5j6l5","55kql9lal9","59lanalala","5akmclj5al","4lkmd5j6l5","55kql9lal9","59lalalala","5akmclj5al","4lkmd5j6l5","55kql9lal9","59lalalala","5akmclj5al","4lkmd5j6l5","55kql9lal9","59lalalala","5aklclj5al","4lkmd5j5kl","4lkql9l6l9","55kqlalala","5aclclb5al","2lkmd5j5kl","4lkmd9l6l9","55kqlalala","5aclclb5al","2lkmd5j5kl","4lkmd9l6l5","55kql9lal9","5aalclb5al","2lkmd5j5kl","4lkmd5j6l5","55kql9lal9","59alclalal","2lkmclj5al","4lkmd5j6l5","55kql9lal9","59alclalal","2lkmclj5al","4lkmd5j6l5","55kql9lal9","59alalalal","2lkmclj5al","4lkmd5j6l5","55kql9lal9","59alalalal","2lklclj5al","4lkmd5j6l5","55kql9l6l9","59a5alalal","2lklclb5al","4lkmd5j5l5","55kqd9l6l9","59a5alalal","2lklclb5al","4lkmd5j5kl","4lkmd9l6l9","55a5akalal","2lclclb5al","2lkmd5j5kl","4lkmd5l6l5","55a5akalak","2lalclalal","2lkmclj5kl","4lkmd5j6l5","55a5akalak","2kalclalal","2lkmclj5al","4lkmd5j6l5","55a5akalak","2kalalalal","2lkmclj5al","4lkmd5j6l5","55a5akalak","2kalalalal","2lkmclj5al","4lkmd5j6l5","55a5akalak","2kalalalal","2lklclb5al","4lkmd5j6l5","55a5akahak","2ka5alalal","2lklclb5al","4lkmd5j5l5","55a52kahak","2ka5akalal","2lklclb5al","4lkmd5j5kl","4la12kahak","2ga5akalal","2lclclb5al","2lkmclj5kl","4la12g8hak","2ga5akalak","2lalclalal","2lkmclj5kl","4la12g8hag","2ga5akalak","2kalalalal","2lkmclj5al","4la12g8hag","2ga5akalak","2kalalalal","2lkmclj5al","4la12g8hag","2ga5akalak","2kalalalal","2lklclb5al","4la12g8hag","2ga5akalak","2kalalalal","2lklclb5al","4la12g8hag","2ga52kahak","2ka5alalal","2lklclb5al","4la12g8gag","2ga12kahak","2ka5akalal","2lklclb5al","4la1208ga0","20a12g8hak","2ga5akalal","2lalclalal","2la1208ga0","20a12g8hak","2ga5akalal","2lalalalal","2la1208ga0","20a12g8hag","2ga5akalak","2lalalalal","2la1208g00","20a12g8hag","2ga5akalak","2kalalalal","2la1208g00","20a12g8hag","2ga5akalak","2kalalalal","2la0200g00","20a12g8hag","2ga52kahak","2kalalalal","2la0200g00","20a12g8gag","2ga52kahak","2ka5akalal","2la0200g00","20a12g8gag","2ga12gahak","2ka5akalal","2la0200g00","20a1208ga0","2ga12g8hak","2ga5akalal","2l00200000","a1208ga0","20a12g8hak","2ga5akalal","2l00000000","a1208ga0","20a12g8hag","2ga5akalak","2l00000000","a1208g00","20a12g8hag","2ga5akalak","2k00000000","a1200g00","20a12g8hag","2ga5akalak","2kalalalal"],v=[4,19,3,18,4,19,4,19,4,20,4,20,6,22,6,22,6,22,7,22,6,21,6,21],y=["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"];function s(a){if(a<o||a>u)return[];var l=j[a-o],n=parseInt(l,32).toString(4);return 24!=n.length&&(n="0"+n),n.split("").map((function(a,l){return+a+v[l]}))}var p=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],q=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],D=function(a,l,e){var o=Math.round((n(a,l,e)-n(1900,1,30))/864e5)+39;return p[(o=o%60>0?o%60:o%60+60)%10]+q[o%12]},b={"01-01":[{name:"元旦",found:"1949"}],"02-14":[{name:"情人节",found:"0270"}],"03-08":[{name:"妇女节",found:"1949-12"}],"03-12":[{name:"植树节",found:"1979"}],"04-01":[{name:"愚人节",found:"1564"}],"05-01":[{name:"劳动节",found:"1949-12"}],"05-04":[{name:"青年节",found:"1949-12"}],"06-01":[{name:"儿童节",found:"1949-11"}],"07-01":[{name:"建党节",found:"1938-05"}],"08-01":[{name:"建军节",found:"1933-07-11"}],"09-10":[{name:"教师节",found:"1985-06"}],"10-01":[{name:"国庆节",found:"1949-12-02"}],"11-01":[{name:"万圣节",found:"0600"}],"12-13":[{name:"国家公祭日",found:"2014-02-27"}],"12-24":[{name:"平安夜",found:"0336"}],"12-25":[{name:"圣诞节",found:"0336"}]},T={"01-10":[{name:"中国人民警察节",found:"2020-07-21"}],"01-26":[{name:"国际海关日",found:"1983-01-26"}],"02-02":[{name:"世界湿地日",found:"1996"}],"02-10":[{name:"国际气象节",found:"1991-02-10"}],"03-01":[{name:"国际海豹日",found:"1983"}],"03-03":[{name:"全国爱耳日",found:"1998-03"}],"03-05":[{name:"雷锋纪念日",found:"1963-03-05"}],"03-09":[{name:"保护母亲河日",found:"2002"}],"03-15":[{name:"消费者权益日",found:"1983"}],"03-17":[{name:"国际航海日",found:"1977-11"}],"03-18":[{name:"全国爱肝日",found:"2001"}],"03-21":[{name:"世界睡眠日",found:"2001"}],"03-22":[{name:"世界水日",found:"1993-01-18"}],"03-23":[{name:"世界气象日",found:"1961"}],"03-24":[{name:"防治结核病日",found:"1995-03-24"}],"03-27":[{name:"学生安全教育日",found:"1996-03-25"}],"04-07":[{name:"世界卫生日",found:"1948-06"}],"04-13":[{name:"泼水节",found:""}],"04-15":[{name:"国家安全教育日",found:"2015-07-01"}],"04-22":[{name:"世界地球日",found:"1970"}],"04-23":[{name:"世界读书日",found:"1995-11-15"}],"04-24":[{name:"中国航天日",found:"2016-03-08"}],"04-26":[{name:"知识产权日",found:"2001-04-26"}],"05-02":[{name:"世界防治哮喘日",found:"1998-12-11"}],"05-08":[{name:"世界微笑日",found:"1948"},{name:"世界红十字日",found:"1948"}],"05-12":[{name:"国际护士节",found:"1912"},{name:"防灾减灾日",found:"2009-05-12"}],"05-15":[{name:"国际家庭日",found:"1994-05-15"}],"05-18":[{name:"国际博物馆日",found:"1977-05-18"}],"05-20":[{name:"学生营养日",found:"2001-03"}],"05-22":[{name:"国际生物多样性日",found:"2000-12-20"}],"05-31":[{name:"世界无烟日",found:"1987-11"}],"06-06":[{name:"世界环境日",found:"1972-06-05"},{name:"全国爱眼日",found:"1996"}],"06-11":[{name:"中国人口日",found:"1990"}],"06-14":[{name:"世界献血者日",found:"2005-05-24"}],"06-23":[{name:"国际奥林匹克日",found:"1948-06-23"}],"06-25":[{name:"全国土地日",found:"1991-05-24"}],"06-26":[{name:"国际禁毒日",found:"1987-06-12"}],"07-01":[{name:"香港回归纪念日",found:"1997-07-01"}],"07-02":[{name:"国际体育记者日",found:"1995"}],"07-11":[{name:"世界人口日",found:"1989"}],"08-08":[{name:"全民健身日",found:"2009"}],"08-12":[{name:"国际青年日",found:"1999-12-17"}],"08-19":[{name:"中国医师节",found:"2017-11-03"}],"08-26":[{name:"全国律师咨询日",found:"1980-08-26"}],"09-03":[{name:"抗战胜利纪念日",found:"2014-02-27"}],"09-08":[{name:"国际扫盲日",found:"1965-11-17"}],"09-16":[{name:"中国脑健康日",found:"2000-09-16"},{name:"国际臭氧层保护日",found:"1995-01-23"}],"09-18":[{name:"九一八纪念日",found:"1931-09-18"}],"09-20":[{name:"全国爱牙日",found:"1989"}],"09-21":[{name:"国际和平日",found:"2001-09-07"}],"09-27":[{name:"世界旅游日",found:"1970-09-27"}],"09-30":[{name:"烈士纪念日",found:"2014-09-30"}],"10-04":[{name:"世界动物日",found:"1931"}],"10-05":[{name:"世界教师日",found:"1994"}],"10-08":[{name:"全国高血压日",found:"1998"}],"10-09":[{name:"世界邮政日",found:"1984"}],"10-13":[{name:"世界保健日",found:"1950"}],"10-14":[{name:"世界标准日",found:"1946"}],"10-15":[{name:"国际盲人节",found:"1984"}],"10-16":[{name:"世界粮食日",found:"1981-10-16"}],"11-08":[{name:"记者节",found:"2000-08-01"}],"11-09":[{name:"消防宣传日",found:"1992"}],"11-14":[{name:"世界防治糖尿病日",found:"1991"}],"11-17":[{name:"国际大学生节",found:"1946-11-17"}],"12-01":[{name:"世界艾滋病日",found:"1988"}],"12-03":[{name:"国际残疾人日",found:"1992-10-12"}],"12-04":[{name:"国家宪法日",found:"2014-11-01"}],"12-09":[{name:"世界足球日",found:"1978"}],"12-10":[{name:"世界人权日",found:"1948-12-10"}],"12-11":[{name:"国际山岳日",found:"2003-12-11"}],"12-15":[{name:"强化免疫日",found:"1988"}],"12-20":[{name:"澳门回归纪念日",found:"1999-12-20"}]},w={"01-01":[{name:"春节",found:""}],"01-15":[{name:"元宵节",found:""}],"02-02":[{name:"龙头节",found:""}],"03-03":[{name:"上巳节",found:""}],"05-05":[{name:"端午节",found:""}],"07-07":[{name:"七夕节",found:""}],"07-15":[{name:"中元节",found:""}],"08-15":[{name:"中秋节",found:""}],"09-09":[{name:"重阳节",found:""}],"10-15":[{name:"下元节",found:""}],"12-08":[{name:"腊八节",found:""}],"12-23":[{name:"北小年",found:""}],"12-24":[{name:"南小年",found:""}],"12-30":[{name:"除夕",found:""}]},M={"06-24":[{name:"火把节",found:""}],"10-01":[{name:"寒衣节",found:""}]},H={"05-02-00":[{name:"母亲节",found:"1913-05-10"}],"06-03-00":[{name:"父亲节",found:"1972"}],"09-03-00":[{name:"世界清洁地球日",found:"1993"}],"11-04-04":[{name:"感恩节",found:"1941"}]},Z=["一九","二九","三九","四九","五九","六九","七九","八九","九九"];var z=["水瓶","双鱼","白羊","金牛","双子","巨蟹","狮子","处女","天秤","天蝎","射手","摩羯"],Y=[20,19,21,20,21,22,23,23,23,24,23,22],O=function(l){var n,o,u,m,f,t,r=e(l),k=(n=r.year,o=r.month,u=11,Y.forEach((function(l,e){var m=e+1;a(n,o)>=a(m,l)&&(u=e%12)})),"".concat(z[u]).concat("座")),d=Object.assign({},r,{zodiac:k}),g=[],j=i(l);return j?(Object.assign(d,j),d.gzYearZH=(m=j.lYear,p[(t=(f=(m-1984)%60)>0?f:f+60)%10]+q[t%12]),d.gzMonthZH=function(l,n,e){var o=0,u=s(l);return u.push(31),u.forEach((function(l,u){var m=Math.floor(u/2)+1;a(m,l)>=a(n,e)&&(o||(o=m))})),p[(o=(o+=12*(l-1984)-1)%60>0?o%60:o%60+60)%10]+q[o%12]}(r.year,r.month,r.day),d.gzDayZH=D(r.year,r.month,r.day),d.animal=function(a){var l=(a-1984)%12;return h[l>-1?l:l+12]}(j.lYear),d.term=function(a,l,n){var e="",o=s(a);return o.push(31),o.forEach((function(a,o){var u=Math.floor(o/2)+1;l==u&&n==a&&(e=y[o])})),e}(r.year,r.month,r.day),g=g.concat(function(a,l,n){var o,u,m=[],f=s(a),t=864e5;return o=new Date(a,3,f[6]-1).getTime(),(u=e(o)).year==a&&u.month==l&&u.day==n&&m.push("寒食节"),function(){for(var o=new Date(a,5,f[11]),u=new Date(a,7,f[14]),r=0,k=o.getTime();k<=u.getTime();k+=t){var d=e(k);D(d.year,d.month,d.day).indexOf("庚")>-1&&(r++,d.year==a&&d.month==l&&d.day==n&&(3==r?m.push("初伏"):4==r&&m.push("中伏")))}r=0;for(var g=u.getTime();g<=u.getTime()+1728e6;g+=t){var c=e(g);D(c.year,c.month,c.day).indexOf("庚")>-1&&(r++,c.year==a&&c.month==l&&c.day==n&&(1==r?m.push("末伏"):2==r&&m.push("出伏")))}}(),function(){for(var o=s(a-1),u=new Date(a-1,11,o[23]),t=new Date(a,11,f[23]),r=0,k=u.getTime();k<=u.getTime()+62208e5;k+=7776e5){var d=e(k);d.year==a&&d.month==l&&d.day==n&&m.push(Z[r]),r++}r=0;for(var g=t.getTime();g<=t.getTime()+62208e5;g+=7776e5){var c=e(g);c.year==a&&c.month==l&&c.day==n&&m.push(Z[r]),r++}}(),function(){for(var o=new Date(a,2,f[5]),u=!1,r=!1,k=o.getTime();k<=o.getTime()+2592e6;k+=t)if(u){if(!r){var d=e(k);0==d.week&&(r=!0,d.year==a&&d.month==l&&d.day==n&&m.push("复活节"))}}else{var g=i(k);g&&15==g.lDay&&(u=!0)}}(),m}(r.year,r.month,r.day)),g=g.concat(function(l,n,e){var o=[],u=a(l,n,e),m=a(n,e);if(12==n&&e==c(l,12))o.push(w["12-30"][0].name);else{if(w[m]){var f=w[m].filter((function(a){return u>=a.found})).map((function(a){return a.name}));f.length&&o.push(f.join(" "))}if(M[m]){var t=M[m].filter((function(a){return u>=a.found})).map((function(a){return a.name}));t.length&&o.push(t.join(" "))}}return o}(j.lYear,j.lMonth,j.lDay))):Object.assign(d,{lYear:null,lMonth:null,lDay:null,isLeap:!1,lMonthZH:"",lDayZH:"",gzYearZH:"",gzMonthZH:"",gzDayZH:"",animal:"",term:""}),g=g.concat(function(l,n,e){var o=[],u=new Date(l,n-1,e),m=u.getDate(),f=u.getDay(),t=Math.ceil(m/7),r=a(l,n,e),k=a(n,e);if(b[k]){var d=b[k].filter((function(a){return r>=a.found})).map((function(a){return a.name}));d.length&&o.push(d.join(" "))}if(T[k]){var g=T[k].filter((function(a){return r>=a.found})).map((function(a){return a.name}));g.length&&o.push(g.join(" "))}if(k=a(n,t,f),H[k]){var c=H[k].filter((function(a){return r>=a.found})).map((function(a){return a.name}));c.length&&o.push(c.join(" "))}return o}(r.year,r.month,r.day)),d.festival=g.join(" "),d},x={getDateBySolar:function(a,l,e){var o=n(a,l,e);return o?O(o):null},getDateByLunar:function(a,l,n,e){var m=function(a,l,n){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:boolean;if(e=!!e,a<o||a>u)return null;if(l<1||l>12)return null;var m=k(a);if(e&&m!=l)return null;if(n>c(a,l))return null;for(var f=0,t=o;t<a;t++)f+=g(t);for(var d=1;d<l||e&&d===l;d++)f+=c(a,d,!1);return m&&m<l&&(f+=c(a,m,!0)),r+864e5*(f+=n)}(a,l,n,e);return m?O(m):null},getToday:function(){var a=(new Date).getTime();return O(a)}};module.exports=x;
